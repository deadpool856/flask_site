<!doctype html>
<html>
<head>
  <title>{% block title %}Flask Site{% endblock %}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <nav>
    <a href="/">Home</a> |
    <a href="/about">About</a> |
    <a href="/contact">Contact</a> |
    <a href="/messages">Messages</a>
    <label style="float:right;">
      ðŸŒ™ Dark Mode
      <input type="checkbox" id="darkModeToggle" style="transform: scale(1.2); margin-left: 8px;">
    </label>
  </nav>

  <br>
  <hr>

  {% block content %}{% endblock %}

  <script>
    const toggle = document.getElementById('darkModeToggle');
    const body = document.body;

    toggle.addEventListener('change', function () {
      if (this.checked) {
        body.classList.add('dark-mode');
        localStorage.setItem('theme', 'dark');
      } else {
        body.classList.remove('dark-mode');
        localStorage.setItem('theme', 'light');
      }
    });

    // Load saved theme on page load
    window.addEventListener('DOMContentLoaded', () => {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'dark') {
        toggle.checked = true;
        body.classList.add('dark-mode');
      }
    });
  </script>
</body>
</html>
